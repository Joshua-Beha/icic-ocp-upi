# =================================================================
# Copyright 2021 https://github.com/openshift/installer
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# =================================================================

# =================================================================
# Licensed Materials - Property of IBM
#
# (c) Copyright IBM Corp. 2021 All Rights Reserved
#
# US Government Users Restricted Rights - Use, duplication or
# disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
# =================================================================
#
# Change Summary: 
# - Add bastion host
# - Add auto allocated ip
# - Modify items and delete unnecessary Ansible items

all:
  hosts:
    localhost:
      ansible_connection: local
      ansible_python_interpreter: "{{ansible_playbook_python}}"
      
      #use_network_name: 'vlan_1287'
      #use_network_subnet: '09e6ac05-7cff-4ab9-8a5e-533e677fc02e'
      use_network_name: 'vlan_1284'
      use_network_subnet: '3657a95c-4b74-4e6a-98a8-24a41910cad6'

      vm_type: 'zvm' # kvm or zvm
      disk_type: 'dasd' # dasd or scsi
      #volume_type_id: 'caf436ef-687d-4a78-987d-b5415e69685f'
      #^^^ SVCfp1 LTIC_DRP_Pool ^^^

      openshift_version: '4.11'
      openshift_minor_version: '9'
      
      auto_allocated_ip: false  # true or false
      #allocation_pool_start: '<ip range start>'
      #allocation_pool_end: '<ip range end>'
      os_flavor_bootstrap: 'medium'
      os_flavor_master: 'ocpmgr'
      os_flavor_worker: 'ocpwrkr' 

      create_server_zone: 'z15_AZ'
      os_control_nodes_number: 3
      os_compute_nodes_number: 2

      os_bootstrap_ip: '10.20.82.71'
      os_master_ip: ['10.20.82.60', '10.20.82.61', '10.20.82.62']
      os_infra_ip: ['10.20.82.63', '10.20.82.70']
      
      use_proxy: false # true or false
      http_proxy: 'http://10.20.80.216:3128/'
      https_proxy: 'http://10.20.80.216:3128/'
      no_proxy: 'localhost,127.0.0.1,.fpet.pokprv.stglabs.ibm.com,10.0.0.0/8'

      use_localreg: true # true or false
      localreg_mirror: "sandboxregistry.fpet.pokprv.stglabs.ibm.com:5000/sandbox/openshift4/11/install"
      localreg_source1: "quay.io/openshift-release-dev/ocp-release"
      localreg_source2: "quay.io/openshift-release-dev/ocp-v4.0-art-dev"
      localreg_media: "http://fpetutil.fpet.pokprv.stglabs.ibm.com/sandbox/lzocpfm2"

      additional_certs: |
        additionalTrustBundle: |
          -----BEGIN CERTIFICATE-----
          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
          -----END CERTIFICATE-----


      approve_nodes_csr: 15 # minute
      create_server_timeout: 35 # minute

    bastion:
      ansible_ssh_host: '<linux-server-ip-addr>'
      ansible_ssh_common_args: "-o StrictHostKeyChecking=no"
      bastion_private_ip_address: '<bastion-ip-addr>'
      bastion_public_ip_address: "{{ ansible_default_ipv4.address }}"
      dns_forwarder: '<upstream-dns-ip-addr>'

  vars:
    os_dns_domain: '10.0.10.4'
    cluster_name: 'lzocpfm2'
    base_domain: 'fpet.pokprv.stglabs.ibm.com'
    #pullsecret: '{"auths":{"cloud.openshift.com":{"auth":"b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K29jbV9hY2Nlc3NfMzE4NDZhMmMyMWQ1NGNhMzg1YzY2YTU5NzFhMjZhOGY6Ujg1RzlQTTlYTjhQWEE0MkNMQU1ROVpFRk5WVDNSNUpHWkk5MkJJRllMMDlXWDRTRThYMUc2TkJORFZSSEhSSw==","email":"lx390xst@us.ibm.com"},"quay.io":{"auth":"b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K29jbV9hY2Nlc3NfMzE4NDZhMmMyMWQ1NGNhMzg1YzY2YTU5NzFhMjZhOGY6Ujg1RzlQTTlYTjhQWEE0MkNMQU1ROVpFRk5WVDNSNUpHWkk5MkJJRllMMDlXWDRTRThYMUc2TkJORFZSSEhSSw==","email":"lx390xst@us.ibm.com"},"registry.connect.redhat.com":{"auth":"fHVoYy1wb29sLWM1OTk1MTIxLWFhOTQtNDI0Mi05MDEwLTNjZDJkOTA5MTM0NTpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSTBaRGszTURreVpqRmpZMlkwT1dWaU9XVmtOek13T0RFd05EYzNOalkyTVNKOS5zWGxHNEtENVdEbDlXR19McFdhaGswenF0bHJ0cFFDYTc4N1Y1UFJmOXE5TjZRWnV6aEpuQTJ2enNTRFZoZVIzV0hTMHBHU1JweHl0RW50WEl6czNDOWJpdXU4VUpFTzRFTXRhNkxlbl9xZUlEVGFJUTBTaWZmdGxJMUdEaXFyM3hEaVNhWjF0TWJ6QVhBdkVYWlU4WGhGaDZzb0RIdktZZTk0R0trcUxDTDdkZ1BOSXBSWnBxR3pZaDJwMmxMTXA3N2l1ci1wMWY1QUp2Z3FWU0pFV2RYQW9WSktmUmowNWNCUktMc1g2bzA4dy1Td3N6MUZqRENrQjhyYnFESk1kRW9aRVJKaXRTeHZPbV83TUdSbnhzWTNtTU4wZmZKS1c3MmVVWkgxQlVRSVdmUU5uWElRdTJfeE5EMVFMN2xyS1ZXX1pmN0Q2ZElsb2w5RU11MFB3ZUFWR2szWkE3UVk2cV82c1BjdUVpTE8yemVVczF0WmpNNzV4OVJkdDJ4bW1aN0tnQm5pLTNtMXFsajVfbDNUWko3eEFvSGRidUlXZmlBcExrR0lZd0FaZG1OSVBEOGM1dlI5Nms4anlsamRyR21XUnM3Rklrd05PSWJCQUNBVHR3dTJ6RDF6V1J4VGtKVWdXT0FrQzkxQzRGeUtrcGtOWV90WjVRZzBySktqMGVCc3UzQ1JqMjVCNmRxNTBsQnc2MWctbWZxUlFJVlBEWGx4cERJNHJxaVFrZ3JDVzRodWpFNVNCSjJ3VUNpLThfa0dPalhkQU5xdjg0ci1EYVA1TTVRcUk5eW1xMXI5YmlzSHl0S1diUEZyWExnNjhJY0RBZ0t5eEl2d0VaUk5wWkNQdHRKeXJ2Wk5HbUVhelZmLXRMdHdVWjNMaUNvYmlpRUptYk4xN2dtSQ==","email":"lx390xst@us.ibm.com"},"registry.redhat.io":{"auth":"fHVoYy1wb29sLWM1OTk1MTIxLWFhOTQtNDI0Mi05MDEwLTNjZDJkOTA5MTM0NTpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSTBaRGszTURreVpqRmpZMlkwT1dWaU9XVmtOek13T0RFd05EYzNOalkyTVNKOS5zWGxHNEtENVdEbDlXR19McFdhaGswenF0bHJ0cFFDYTc4N1Y1UFJmOXE5TjZRWnV6aEpuQTJ2enNTRFZoZVIzV0hTMHBHU1JweHl0RW50WEl6czNDOWJpdXU4VUpFTzRFTXRhNkxlbl9xZUlEVGFJUTBTaWZmdGxJMUdEaXFyM3hEaVNhWjF0TWJ6QVhBdkVYWlU4WGhGaDZzb0RIdktZZTk0R0trcUxDTDdkZ1BOSXBSWnBxR3pZaDJwMmxMTXA3N2l1ci1wMWY1QUp2Z3FWU0pFV2RYQW9WSktmUmowNWNCUktMc1g2bzA4dy1Td3N6MUZqRENrQjhyYnFESk1kRW9aRVJKaXRTeHZPbV83TUdSbnhzWTNtTU4wZmZKS1c3MmVVWkgxQlVRSVdmUU5uWElRdTJfeE5EMVFMN2xyS1ZXX1pmN0Q2ZElsb2w5RU11MFB3ZUFWR2szWkE3UVk2cV82c1BjdUVpTE8yemVVczF0WmpNNzV4OVJkdDJ4bW1aN0tnQm5pLTNtMXFsajVfbDNUWko3eEFvSGRidUlXZmlBcExrR0lZd0FaZG1OSVBEOGM1dlI5Nms4anlsamRyR21XUnM3Rklrd05PSWJCQUNBVHR3dTJ6RDF6V1J4VGtKVWdXT0FrQzkxQzRGeUtrcGtOWV90WjVRZzBySktqMGVCc3UzQ1JqMjVCNmRxNTBsQnc2MWctbWZxUlFJVlBEWGx4cERJNHJxaVFrZ3JDVzRodWpFNVNCSjJ3VUNpLThfa0dPalhkQU5xdjg0ci1EYVA1TTVRcUk5eW1xMXI5YmlzSHl0S1diUEZyWExnNjhJY0RBZ0t5eEl2d0VaUk5wWkNQdHRKeXJ2Wk5HbUVhelZmLXRMdHdVWjNMaUNvYmlpRUptYk4xN2dtSQ==","email":"lx390xst@us.ibm.com"}}}'
    pullsecret: '{"auths":{"sandboxregistry.fpet.pokprv.stglabs.ibm.com:5000": {"auth": "c2FuZGJveDpzYW5kYm94"}}}'
    sshkey: 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBlBQw4IBxyn9W2hF+MDTRW21fq91PT3e0fwnKa2aTQz fpmitaro@us.ibm.com'